---

- name: Manage Proxmox GRUB kernel parameters
  ansible.builtin.include_tasks: grub_kernel_params.yml

- name: Include Proxmox ZFS thin provisioning audit
  ansible.builtin.include_tasks: zfs_thin_audit.yml
  when: proxmox_zfs_thin_enforce | default(false) | bool or proxmox_zfs_thin_audit | default(true) | bool

- name: Include Proxmox ZFS thin provisioning fix
  ansible.builtin.include_tasks: zfs_thin_fix.yml
  when: proxmox_zfs_thin_enforce | default(false) | bool

- name: CoreFreq (DKMS)
  ansible.builtin.import_tasks: corefreq.yml
  when: proxmox_corefreq_enabled | bool
