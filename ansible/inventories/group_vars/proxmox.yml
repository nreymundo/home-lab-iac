---
# Common role overrides for Proxmox hosts.
common_user: "{{ ansible_user | default('root') }}"

common_enable_unattended_upgrades: false
common_unattended_upgrades_auto_reboot: false
common_run_upgrade: true

common_packages:
  - htop
  - iftop
  - iperf3
  - fastfetch
  - lm-sensors
  - starship
  - vim
  - git
  - linux-cpupower
  - powertop

# Allow root login with keys for Proxmox, but disable passwords.
common_sshd_hardening:
  PermitRootLogin: "prohibit-password"
  PasswordAuthentication: "no"

# Kernel parameters applied to all Proxmox hosts.
proxmox_kernel_params_base_add:
  - "pcie_aspm=force"
  - "nmi_watchdog=0"
  - "nowatchdog"

proxmox_kernel_params_base_remove: []

proxmox_corefreq_enabled: true
