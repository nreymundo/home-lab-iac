---
common_extra_packages:
  - corosync
  - linux-raspi

common_netplan_config:
  network:
    version: 2
    renderer: networkd
    ethernets:
      eth0:
        addresses:
          - 192.168.1.7/24
        gateway4: 192.168.1.1
        nameservers:
          addresses:
            - 192.168.1.1
    vlans:
      vlan10:
        id: 10
        link: eth0
        addresses:
          - 192.168.10.7/24
        gateway4: 192.168.10.1
        nameservers:
          addresses:
            - 192.168.10.1

# Not being used as part of the k3s cluster for now so these are commented out.
# Use the VLAN 10 IP for K3s traffic
# k3s_node_ip: 192.168.10.7
# k3s_iface: vlan10

# k3s_allow_workloads: false

# Enable Docker installation on this host
docker_install_enabled: true

# K3s node labels
# k3s_node_labels:
#   homelab.lan/role: "quorum"
#   homelab.lan/cpu-vendor: "arm"
#   homelab.lan/runtime: "baremetal"
#   homelab.lan/gpu: "none"
#   homelab.lan/storage-local: "true"
#   topology.kubernetes.io/zone: "rpi4"
