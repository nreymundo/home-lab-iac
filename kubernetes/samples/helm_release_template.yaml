---
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: <APP_NAME>
  namespace: flux-system
spec:
  interval: 30m
  targetNamespace: <TARGET_NAMESPACE>
  chart:
    spec:
      chart: <CHART_NAME>
      # Best Practice: Pin to a specific version or patch level for stability.
      # Examples: "1.2.3" (strict) or "1.2.*" (allow patches)
      version: "1.2.3"
      sourceRef:
        kind: HelmRepository
        name: <REPO_NAME>
        namespace: flux-system
      interval: 30m
  install:
    createNamespace: true
    remediation:
      retries: 3
  upgrade:
    remediation:
      retries: 3
  values:
    # CRITICAL: Always set fullnameOverride to avoid redundant names
    # like "traefik-traefik" or "app-app-worker".
    # This forces resources to be named simply "<APP_NAME>".
    fullnameOverride: <APP_NAME>

    # Application specific values go here
    # ...
